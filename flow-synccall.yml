version: 1.0
provider:
  name: openfaas
  gateway: http://127.0.0.1:8080
functions:
  flow-synccall:
    lang: faas-flow
    handler: ./flow-synccall
    image: sort/flow-synccall:latest
    environment:
      workflow_name: "flow-synccall"
      gateway: "gateway.openfaas:8080"
      enable_tracing: false
      enable_hmac: false
      write_debug: true
      combine_output: false
      consul_url: "consul.default.svc.cluster.local:8500"
      consul_dc: "dc1"
      s3_url: "minio-service.default.svc.cluster.local:9000"
      s3_tls: false
    secrets:
      - s3-secret-key
      - s3-access-key
    labels:
      faas-flow : 1      
  func1:
    lang: python
    handler: ./func1
    image: sort/func1:latest
  func2:
    lang: python
    handler: ./func2
    image: sort/func1:latest
